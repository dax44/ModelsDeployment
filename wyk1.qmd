---
title: "Wykad 1"
author: "Dariusz Majerek"
format: html
execute: 
  echo: true
  warning: false
embed-resources: true
editor_options: 
  chunk_output_type: console
---

## Przebieg prac nad wdro偶eniem modelu

Budowa modeli i ich p贸藕niejsze wdra偶anie odbywa si w wielu etapach. Rzadko
kiedy model powstaje w pierwszym podejciu do rozwizania problemu badawczego.
Najczciej w toku kolejnych korekt powstaje ostateczny projekt, kt贸ry mo偶e
zosta zaimplementowany na serwerze klienckim, czy urzdzeniu docelowym.
Nierzadko r贸wnie偶 (szczeg贸lnie w przypadku rozbudowanych modeli) prac nad nim
prowadzi kilka os贸b. Wydana wersja modelu mo偶e r贸wnie偶 charakteryzowa si
pewnymi bdami czy niedogodnociami, sugerowanymi przez u偶ytkownik贸w. To
powoduje, 偶e tzw 'ostateczna' wersja musi by r贸wnie偶 poprawiana. Przebieg
przygotowania modelu i jego wdro偶enia mo偶e wyglda nastpujco:

1.  **Definiowanie problemu badawczego:**
    -   Zidentyfikuj problem, kt贸ry chcesz rozwiza za pomoc modelu.
    -   Okrel cele, jakie chcesz osign.
2.  **Zbieranie danych:**
    -   Zebranie odpowiednich danych.
3.  **Analiza danych:**
    -   Eksploracyjna analiza danych (EDA), aby zrozumie charakterystyki
        danych.
    -   Wykrywanie brakujcymi danych, anomalii czy outlier贸w.
4.  **Przygotowanie danych:**
    -   Podziau danych na zestawy treningowe, walidacyjne i testowe.
    -   Normalizacja/standaryzacja danych, jeli jest to konieczne.
5.  **Wyb贸r modelu:**
    -   Wyb贸r odpowiedniego rodzaju modelu.
    -   Dostosowanie hiperparametr贸w modelu w celu optymalizacji wynik贸w.
6.  **Trening modelu:**
    -   Uczenie modelu korzystajc z zestawu treningowego.
7.  **Walidacja modelu:**
    -   U偶ycie zestawu walidacyjnego do oceny skutecznoci modelu.
8.  **Optymalizacja modelu:**
    -   Dostosowanie model w celu poprawy jego wydajno (regularyzacja, zmiana
        architektury, optymalizacja hiperparametr贸w, itp)
9.  **Testowanie modelu:**
    -   Ocena dopasowania modelu na zbiorze testowym.
10. **Wdra偶anie modelu:**
    -   Przygotowanie modelu do wdro偶enia, uwzgldniajc aspekty wydajnociowe
        i skalowalno.
    -   Przygotowanie aplikacji (API) pozwalajcej na umieszczenie modelu na
        serwerze lub urzdzeniu docelowym.

W zale偶noci od sytuacji, model mo偶e by r贸wnie偶 monitorowany i aktualizowany.
Niezbdna mo偶e by r贸wnie偶 dokumentacja techniczna uatwiajca zrozumienie i
utrzymanie modelu przez odbiorc贸w kocowych.

::: column-margin
![](images/git.png){fig-align="center"}
:::

Konieczne w tym procesie jest kontrolowanie aktualnej wersji modelu i
wszystkich przylegoci z nim zwizanych. Idealnym narzdziem do
zautomatyzowania czynnoci polegajcych na kontroli wersji jest program `git`.

Jest to darmowy program do pobrania ze [strony
domowej](https://git-scm.com/downloads) na dowolny system operacyjny. Jest to
program dziaajcy w terminalu ale istniej r贸wnie偶 jego wersje z przyjaznym
GUI (najbardziej znany to [GitHub Desktop](https://desktop.github.com)), przy
czym ten program jest jednoczenie poczony z hubem (czyli kontenerem)
pozwalajcym na przechowywanie i udostpnianie kodu w internecie, znanym jako
[GitHub](https://docs.github.com/en/desktop/installing-and-authenticating-to-github-desktop/installing-github-desktop).
Nie jest to jedyna usuga serwerowa, kt贸ra pozwala na zapisywanie i
udostpnianie kodu z wykorzystaniem gita. Inne znane alternatywy to GitLab i
Bitbucket.

::: column-margin
![](images/github.png){fig-align="center"}
:::

W niniejszym wykadzie zostan przedstawione rozwizania z wykorzystaniem Gita
i GitHuba.

Przykadowe repozytorium projektu `tidymodels` na stronie GitHub wyglda
nastpujco.

![Strona projektu tidymodels na
GitHubie](images/Zrzut%20ekranu%202024-01-4%20o%2015.07.25.png){fig-align="center"}

Git w poczeniu z GitHubem pozwala na przechowywanie wszystkich wersji kodu,
kt贸ry tworzymy, a jednoczenie na udostpnianie go oraz umo偶liwienie wsp贸pracy
nad kodem przez wielu u偶ytkownik贸w - wsp贸tw贸rc贸w (ang. *contributors*) ale nie
tylko. Udostpnianie mo偶e by zar贸wno publiczne, jak i prywatne.

Funkcjonalnoci GitHub, to:

1.  **Kontrola wersji kodu.**

2.  **Kopiowanie kodu na dwa sposoby:**

    a.  **Clone:**

        -   Klonowanie repozytorium oznacza skopiowanie zdalnego repozytorium
            na lokalny komputer.
        -   Gdy klonujesz repozytorium, uzyskujesz identyczn kopi zawartoci,
            historii i gazi tego repozytorium na swoim lokalnym systemie.
        -   Mo偶esz pracowa nad projektem lokalnie i wysya swoje zmiany z
            powrotem do zdalnego repozytorium.

        Przykad klonowania repozytorium:

    ``` bash
    git clone https://github.com/nazwa_uzytkownika/nazwa_repozytorium.git
    ```

    b.  **Fork:**

        -   *Forking* (rozszerzanie) repozytorium oznacza utworzenie kopii
            zdalnego repozytorium w obrbie twojego konta na GitHubie.
        -   Kiedy *forkujesz* repozytorium, masz wasn kopi, kt贸r mo偶esz
            dowolnie modyfikowa, nie wpywajc na oryginalne repozytorium.
        -   *Forkowanie* jest czsto u偶ywane w projekcie open source, gdzie
            chcesz doda swoje zmiany, ale nie masz bezporedniego dostpu do
            repozytorium.

        Przykad *forka* repozytorium:

        -   Na stronie repozytorium w witrynie GitHub klikasz przycisk "Fork" w
            prawym g贸rnym rogu. To utworzy kopi tego repozytorium w twoim
            wasnym koncie.

        *Forking* pozwala ci pracowa niezale偶nie nad projektem, a nastpnie
        mo偶esz zgosi *pull request* (prob o zaakceptowanie zmian) do
        oryginalnego repozytorium, aby waciciel m贸g uwzgldni twoje zmiany.

3.  **Zarzdzanie Branchami:**

    -   GitHub oferuje narzdzia do atwego zarzdzania gaziami (branches).
        Mo偶esz tworzy, usuwa i czy gazie za pomoc interfejsu
        graficznego.

4.  **Komentarze i Dyskusje:**

    -   Mo偶liwo dodawania komentarzy do kodu 藕r贸dowego, pull request贸w i
        problem贸w uatwia komunikacj w zespole.

5.  ***Issues*****:**

    -   GitHub umo偶liwia ledzenie problem贸w i zada (*issues*). Mo偶esz
        tworzy, przypisywa, zamyka i dyskutowa na temat problem贸w, co
        uatwia ledzenie postp贸w w projekcie.

6.  **Integracje i Webhooks:**

    -   GitHub oferuje integracje z r贸偶nymi narzdziami i usugami, co
        umo偶liwia automatyzacj r贸偶nych proces贸w w projekcie. Webhooki
        pozwalaj na powiadamianie zewntrznych usug o zdarzeniach na
        GitHubie.

7.  ***Pull Request Reviews*****:**

    -   Mo偶liwo recenzowania kodu 藕r贸dowego w ramach pull request贸w.
        Recenzenci mog komentowa zmiany, proponowa poprawki i potwierdza
        gotowo do zaakceptowania zmian.

8.  **GitHub Actions:**

    -   GitHub Actions to funkcja pozwalajca na automatyzacj proces贸w
        budowania, testowania i wdra偶ania kodu 藕r贸dowego za pomoc skrypt贸w.

9.  **Bezpieczestwo:**

    -   GitHub oferuje funkcje zabezpieczajce, takie jak uwierzytelnianie
        dwuskadnikowe, zarzdzanie dostpem i audyt.

czc Git z Githubem, programici zyskuj mocne narzdzie do kontroli wersji,
wsp贸pracy, ledzenia problem贸w i automatyzacji proces贸w, co przyczynia si do
skutecznego zarzdzania projektami oprogramowania[^1].

[^1]: Nie wszystkie z powy偶szych temat贸w uda nam si om贸wi na wykadzie ale
    wikszo zostanie zademonstrowana.

### Tworzenie repozytorium

#### Tworzenie konta na GitHub

Aby stworzy jakiekolwiek repozytorium, trzeba mie miejsce, w kt贸rym to
zrobimy. A zatem utworzymy nowe konto na GitHub.

1.  Przejd藕 na stron <https://github.com/>

    ![Strona domowa
    GitHub](images/Zrzut%20ekranu%202024-01-4%20o%2015.50.46.png)

2.  Nastpnie wpisz w miejsce na email sw贸j adres poczty.

3.  W kolejnym kroku wypenij pola na stronie

    ![](images/Zrzut%20ekranu%202024-01-4%20o%2015.51.27.png)

4.  Po wypenieniu wszystkich p贸l zostaniesz poproszony o rozwizanie testu na
    sprawdzenie czy jeste czowiekiem .

    ![](images/Zrzut%20ekranu%202024-01-4%20o%2015.52.31.png)

5.  Wpisz kod, kt贸ry otrzymasz na podany przez Ciebie email.

    ![](images/Zrzut%20ekranu%202024-01-4%20o%2015.53.08.png)

6.  W kolejnym oknie wybierz interesujce Ci funkcjonalnoci (mo偶esz te偶 nie
    wybiera 偶adnej).

    ![](images/Zrzut%20ekranu%202024-01-4%20o%2015.53.58.png)

7.  Na kolejnej stronie mo偶na wybra darmowe konto regularnego u偶ytkownika ale
    jest te偶 mo偶liwo zao偶enia konta studenckiego (w贸wczas trzeba przy
    logowaniu poda email uczelniany po czym nastpi weryfikacja). Konto
    studenckie daje nieco wicej mo偶liwoci ale konto darmowe wystarczy do
    naszych zada.

    ![](images/Zrzut%20ekranu%202024-01-4%20o%2015.54.30.png)

8.  W kolejnym kroku powiniene ju偶 zosta przeniesiony do strony g贸wnej
    Twojego konta na Githubie .

    ![](images/Zrzut%20ekranu%202024-01-4%20o%2016.49.46.png)

Mo偶emy teraz przystpi do tworzenia repozytorium  . Za贸偶my, 偶e bdzie to
repozytorium przeznaczone do test贸w (std nazwa `Github_tests`).

::: column-margin
![](images/Zrzut%20ekranu%202024-01-4%20o%2017.28.17.png)
:::

Nazwa ta pewnie jest u偶ywana wielokrotnie w caym Githubie (patrz ) ale my
tworzymy repozytorium w ramach naszego konta dlatego faktycznie nazwa
repozytorium bdzie nastpujca `DariuszMajerek/Github_tests` - czyli jest
poczeniem nazwy u偶ytkownika i repozytorium.

![](images/Zrzut%20ekranu%202024-01-4%20o%2017.24.16.png){fig-align="center"}

Puste repozytorium wyglda nastpujco.

![](images/Zrzut%20ekranu%202024-01-4%20o%2017.30.53.png)

::: callout-important
Najwa偶niejsze z tej strony jest aby skopiowa adres repozytorium w formie HTTPS
[`https://github.com/DariuszMajerek/Github_tests.git`](https://github.com/DariuszMajerek/Github_tests.git)
lub SSH `git@github.com:DariuszMajerek/Github_tests.git`.
:::

### czenie repozytorium lokalnego ze zdalnym

P贸ki co istniej tylko repozytorium zdalne (na Githubie, z reszt puste) ale nie
istnieje jego odpowiednik na dysku lokalnym. W tym celu nale偶y utworzy katalog
o tej samej nazwie co nazwa repozytorium (bez nazwy u偶ytkownika) a nastpnie
przej do tego katalogu.

![Tworzenie katalogu
repo](images/Zrzut%20ekranu%202024-01-4%20o%2018.15.27.png)

::: callout-caution
Powy偶szy ekran mo偶e nieco inaczej wyglda w innych systemach operacyjnych.
:::

Zanim zainicjujemy pierwszy stan repo musimy okreli dla jakiego konta
(Github) bd tworzone wersje kodu.

```{bash}
# nadaj konto dla tylko tego jedego repo, poniewa偶 do wszystkich innych repo 
# stosuj inne konto Github
git config user.name "DariuszMajerek"
git config user.email "majerek@gmail.com"

# jeli chcesz ustali konto dla wszystkich repo
git config --global user.name "DariuszMajerek"
git config --global user.email "majerek@gmail.com"
```

W katalogu repo[^2] inicjujemy repo lokalne poprzez

```{bash}
git init

# nastepnie sprawdzamy status repo
git status
```

![](images/Zrzut%20ekranu%202024-01-4%20o%2019.41.21.png)

Zainicjowanie lokalnego repo pozwala wymienia dane pomidzy repo lokalnym i
zdalnym (w obie strony). Mo偶emy o tym myle w ten spos贸b, 偶e s trzy stany
naszego repo:

-   lokalne - na dysku (ang. *working dir*);
-   zdalne - na serwerze np. Github (ang. *HEAD*);
-   tymczasowe - instancja naszego repo w wersji tymczasowej istniejca na
    dysku (ang. *index*), kt贸ra powinna zosta przesana (wypchnita - *push*)
    na serwer. Ta czynno jest opisana w t stron, bo najczciej to zmiany
    na dysku lokalnym, gdzie tworzymy model, wypychamy na serwer.

![Trzy stany repo](images/Zrzut%20ekranu%202024-01-4%20o%2018.22.05.png)

Inicjacja jedynie tworzy katalog `.git` z plikami konfiguracyjnymi repo. Nic
poza tym katalogiem nie zawiera. Teraz przystpimy do dodania pierwszego pliku
do repo. Dobrym zwyczajem jest dodanie pliku `README.md`, w kt贸rym znajd si
podstawowe informacje dotyczce repo. Plik ten powinien by napisany w jzyku
markdown aby GitHub m贸g bo przetworzy i wywietli w sformatowany spos贸b.

```{bash}
# plik README.md mo偶na utworzy na kilka spos贸b贸w, m.in w R
# w poni偶szym przykadzie pokazuj jak to mo偶na zrobi w terminalu
# poni偶szy kod stworzy nowy plik README.md i doda jedynie tytu rozdziau 
echo "# Github_tests" >> README.md
```

Jak wida na zaczonym obrazie powsta plik `README.md` i zosta wypeniony
treci.

![](images/Zrzut%20ekranu%202024-01-4%20o%2018.34.39.png)

Poniewa偶 nastpiy pierwsze zmiany w repo (dodalimy plik README.md), to mo偶emy
te zmiany wysa na serwer, na kt贸rym obecnie zmiany te nie s jeszcze
uwzgldnione.

```{bash}
# dodajemy plik README.md do commita, czyli nowej wersji repo
# commitami oznaczamy nowe wersje repo
git add README.md

# jeli chcemy doda wicej plik贸w i katalog贸w jednoczenie (a tak si dzieje najczciej)
# bo chcemy commitowa stan po zmianach w repo to wywoujemy
git add .
```

Po tej czynnoci mo偶emy sprawdzi status repo za pomoc

```{bash}
git status
```

Wynik tych dziaa jest nastpujcy

![Repo po zmianach](images/Zrzut%20ekranu%202024-01-4%20o%2018.41.49.png)

Jak wida plik `README.md` zosta dodany do tymczasowego stanu repo ale nie
zosta on jeszcze przesany na serwer. Wida te偶, 偶e 偶aden *commit* nie zosta
utworzony. Przez *commit* rozumiemy jakby *snapshot* obecnego stanu repo. P贸ki
go nie wypchniemy na serwer zmiany te s zapisane jedynie lokalnie. Przejd藕my
do pierwszego *commitu* naszego repo. Ka偶dy commit powinien by opatrzony
komentarzem, kt贸ry informuje nas co zmienilimy w repo[^3]. Flaga `-m` oznacza
ch dodania komentarza.

```{bash}
git commit -m "pierwszy commit"
```

Po wykonaniu commita i sprawdzeniu stanu

![](images/Zrzut%20ekranu%202024-01-4%20o%2019.44.47.png)

Cho stworzylimy commita, wic zapisalimy stan repo po zmianach, to zmiany te
nie zostay zaktualizowane na serwerze GitHub. Aby tego dokona musimy poda
adres repo zdalnego oraz wypchn lokalne zmiany na serwer.

```{bash}
# podczenie zdalnego repo pod nazw origin
# m贸j adres 
git remote add origin "git@github.com-work:DariuszMajerek/Github_tests.git"
```

W kolejnym kroku (jednorazowo) musimy ustali u偶ytkownik i haso, kt贸re pozwoli
nam wypchn pliki na serwer.

```{}
```

[^2]: skr贸t od repozytorium

[^3]: wprawdzie na tym etapie dodalimy plik `README.md` ale poniewa偶 jest to
    pierwszy *commit* to tak go nazwalimy.
